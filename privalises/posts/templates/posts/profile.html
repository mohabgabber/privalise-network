{% extends 'posts/base.html' %}
{% block title %}@{{ user.username }} Profile, On Privalise!{% endblock title %}
{% block content %}
	<main class="mx-auto content">
		<section class="w-50 profile">
			<div class="picture-container">
				<img class="profile-picture" src="{{ user.profile.image.url }}">
			</div>

			<h2 class="account-heading">@{{ user.username }}</h2>

			{% if user.profile.verified %}
			  <i style='color: blue; width: 100;' class="fas fa-passport"></i>
	    	{% endif %}

	      <br/><br/>

			{% if request.user == user %}
           <a href="{% url 'profile-update' %}">
           	<button type="button" style="margin-left: 11px;" class="btn btn-outline-info">
	           Settings
           </button></a>
           <br/><br/>
         {% else %}
	         {% if is_following == False %}
		         <form method="POST" action='{% url "add-follower" user.username %}'>
		            {% csrf_token %}
		            <button type="submit" style="margin-left: 21px;" class="btn btn-outline-danger">Follow</button>
		         </form>
		         <br/><br/>
	         {% else %}
		         <form method="POST" action='{% url "remove-follower" user.username %}'>
			         {% csrf_token %}
		            <button type="submit" style="margin-left: 21px;"  class="btn btn-outline-danger">UnFollow</button>
		         </form>
		         <br/><br/>
	         {% endif %}
         {% endif %}
		</section>
		<div class="infinite-container w-50">
			{% for post in posts %}
				<div class="post infinite-item">
					<div class="profile-container">
						<img class="profile-picture" src="{{ user.profile.image.url }}">
					</div>

					<div class="post-content">
						<div class="post-info">
							<div class="post-info1">
								<a class="username" href="{% url 'profile' post.author %}">@{{ post.author }}</a>
								<p class="date">{{ post.date_posted }}</p>
							</div>
	   				</div>

						<a href="{% url 'post-detail' post.pk %}">
							<div class="post-text tags-id mentions-id">
								<p>{{ post.content }}</p>
							</div>
					   </a>
					</div>
				</div>
			{% endfor %}
		</div>
		<center>
        {% if posts.has_previous %}
            <a href="?page={{posts.previous_page_number}}" class="btn btn-outline-info"><</a>
        {% endif %}
        <span class="btn btn-primary">{{posts.number}}</span>
        
        {% if posts.has_next %}
            <a href="?page={{posts.next_page_number}}" class="btn btn-outline-info">></a>
        {% endif %}
    </center>
	</main>
{% endblock content %}