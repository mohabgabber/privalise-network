{% extends 'posts/base.html' %}
{% load post_extras %}
{% block title %}Search Posts And Users On Privalise!, Where Everything Is Awesome{% endblock title %}
{% block content %}
   <main class="w-100 container-fluid mx-auto content">
            <div class="mx-auto logo-text">
              <div>Priva<span>Lise</span></div>
            </div>
        {% if messages %}
           {% for message in messages %}
              <div class="alert alert-{{ message.tags }} content">{{ message }}</div>
           {% endfor %}
        {% endif %}
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <center><h2>Posts</h2></center>
                    {% for post in posts %}
                        <div class="post" style="text-align: left;  margin: 0 auto; margin-bottom: 8px;">
                            <div class="profile-container">
                                <img class="profile-picture post-img" src="{{ post.author.profile.image.url }}">
                            </div>
                            <div class="post-content">
                                <div class="post-info">
                                    <div class="post-info1">
                                        <a class="username" href="{% url 'profile' post.author %}">
                                        @{{ post.author }}
                                        </a>
                                        <p class="date">{{ post.date_posted }}</p>
                                    </div>
                                </div>
                                <a style="text-decoration: inherit; color: inherit;" href="{% url 'post-detail' post.pk %}">
                                    <div class="post-text tags-id mentions-id">
                                        <p>{{ post.content|convert_markdown|safe }}</p>
                                        <a style="width: 40%; height: 35%;" href="{% url 'post-detail' post.pk %}" class="btn btn-outline-info">Open Post</a>
                                    </div>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <div class="col-sm">
                    <center><h2>Comments</h2></center>
                    {% for comment in comments %}
                        <div  class="post">
                            <div class="profile-container">
                                <img class="profile-picture post-img" src="{{ comment.author.profile.image.url }}">
                            </div>
                            <div class="post-content">
                                <div class="post-info">
                                    <div class="post-info1">
                                        <a class="username" href="{% url 'profile' comment.author %}">@{{ comment.author }}</a>
                                        <p class="date">{{ comment.date_created }}</p>
                                    </div>
                                </div>
                                <div class="post-text" style="text-align: left;">
                                    <p>{{ comment.content|convert_markdown|safe }}</p>
                                </div>
                            </div>  
                        </div>
                    {% endfor %}
                </div>
                <div class="col-sm">
                    <center><h2>Profiles</h2></center>
                    {% for profile in profiles %}
                        <div  class="post">
                            <div class="profile-container">
                                <img class="profile-picture post-img" src="{{ profile.image.url }}">
                            </div>
                            <div class="post-content">
                                <div class="post-info">
                                    <div class="post-info1">
                                        <a class="username" href="{% url 'profile' profile.user.username %}">@{{ profile.user.username }}</a>
                                    </div>
                                </div>
                                <div class="post-text" style="text-align: left;">
                                    <p style="word-break: break-all;">{{ profile.bio|slice:":255" }}</p>
                                </div>
                            </div>  
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
   </main>
{% endblock %}