{% extends 'posts/base.html' %}
{% load crispy_forms_tags %}
{% block title %}Edit Your Settings On Privalise!, Where Everything Is Awesome{% endblock title %}
{% block content %}
<br><br>
<main class="container-fluid content mx-auto">
    <div class='profile'>
      <div class="picture-container">
        <img class="profile-picture" src="{{ user.profile.image.url }}">
      </div>
      <h2 class='account-heading'>{{ user.username }}</h2>
      <h2 class='text-secondary'>{{ profile.name }}</h2>
      <p>{{ profile.bio }}</p>
    </div>
    <div class="mx-auto">
  <form method="POST" enctype='multipart/form-data' id='forms'>

    {% csrf_token %}

    <label for="basic-url" class="form-label">User Settings</label>

    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon1">@</span>
      <input type="text" name="username" value="{{ request.user.username }}" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
    </div>
    
    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon2">Your Name</span>
      <input type="text" value="{{ request.user.profile.name }}" class="form-control" name="name" placeholder="Your Name!" aria-label="Recipient's username" aria-describedby="basic-addon2">
    </div>

    <div class="input-group mb-3">
      <span class="input-group-text" id="basic-addon3"><i class="fab fa-monero"></i></span>
      <input type="text" class="form-control" value="{{ request.user.profile.monero }}" name="monero" placeholder="Your Monero (XMR) Address" id="basic-url" aria-describedby="basic-addon3">
    </div>

    <div class="input-group mb-3">
      <label class="input-group-text" for="inputGroupFile01">Profile Pic</label>
      <input type="file" class="form-control" id="inputGroupFile01" name="image">
    </div>
    
    <label for="basic-url" class="form-label">Additional Settings</label>
    
    <div class="input-group mb-3">
      <span class="input-group-text"><i class="fas fa-comments"></i></span>
      <input type="text" name="xmppusername" value="{{ request.user.profile.xmppusername }}" class="form-control" placeholder="Your Xmpp Username" aria-label="Username">
      <span class="input-group-text">@</span>
      <input type="text" name="xmppserver" class="form-control" value="{{ request.user.profile.xmppserver }}" placeholder="Server.domain" aria-label="Server">
    </div>
    
    <div class="input-group">
      <span class="input-group-text">PGP</span>
      <textarea class="form-control" cols="11" rows="22" aria-label="With textarea" name="public_key" placeholder="Your Public Key">{{ request.user.profile.public_key }}</textarea>
    </div>
    <br/>
    <center>
      <button type="submit" class="btn btn-primary mb-3">Confirm identity</button>
    </center>
  
  </form>       
</main>
{% endblock content %} 